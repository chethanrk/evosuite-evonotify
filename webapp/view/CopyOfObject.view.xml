<mvc:View
	height="100%"
	controllerName="com.evorait.evolite.evonotify.controller.Object"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:semantic="sap.m.semantic"
	xmlns:form="sap.ui.layout.form"
	xmlns:core="sap.ui.core"
	xmlns:layout="sap.ui.layout"
	xmlns:smartField="sap.ui.comp.smartfield"
	xmlns:uxap="sap.uxap"
	xmlns:sample="sap.uxap.sample.AnchorBar.block">

	<semantic:FullscreenPage
		id="page"
		navButtonPress="onNavBack"
		showNavButton="true"
		title="EvoNotify"
		busy="{objectView>/busy}"
		busyIndicatorDelay="{objectView>/delay}">

		<semantic:content>
			<ObjectHeader
				id="objectHeader"
				title="{Maintenancenotification} {Notificationtext}"
				responsive="true">
				<statuses>
					<ObjectStatus
						text="{Notifprocessingphasedesc}"
						state="Success" />
				</statuses>
				<attributes>
					<ObjectAttribute text="{/#PMNotifications/Creationdate/@sap:label}: {path: 'Creationdate', formatter: '.formatter.date'} {path: 'Creationtime', formatter: '.formatter.time'}" />
				</attributes>
				
			</ObjectHeader>
			
			<IconTabBar
				expanded="{device>/isNoPhone}"
				class="sapUiResponsiveContentPadding">
				<items>
					<IconTabFilter text="Details">
						
						<form:SimpleForm id="notificationForm"
							minWidth="1024"
							maxContainerCols="2"
							editable="true"
							layout="ResponsiveGridLayout"
							labelSpanL="4"
							labelSpanM="4"
							emptySpanL="0"
							emptySpanM="0"
							columnsL="2"
							columnsM="2"
							class="editableForm">
							<form:content>
								
								<smartField:SmartLabel labelFor="NotificationtextId" />
								<smartField:SmartField value="{Notificationtext}" id="NotificationtextId" class="editable"/>
								
								<smartField:SmartLabel labelFor="NotificationtypenameId" />
								<smartField:SmartField value="{Notificationtypename}" 
								id="NotificationtypenameId" class="editable" showValueHelp="true"/>
				
								<Label text="{/#PMNotifications/Notificationtext/@sap:label}" />
								<Input value="{Notificationtext}" />
								<Label text="{/#PMNotifications/Notificationtypename/@sap:label}" />
								<Input value="{Street}" showValueHelp="true"/>
								
								<core:Title text="Online" />
								<Label text="Web" />
								<Input value="{Url}" />
								<Label text="Twitter" />
								<Input value="{Twitter}" />
							</form:content>
						</form:SimpleForm>
						
					</IconTabFilter>
					
					<IconTabFilter text="Items">
						<Table
							id="notificationItemsTable"
							width="auto"
							class="sapUiResponsiveMargin"
							items="{
								path: '/PMNotificationItem',
								sorter: {
									path: 'Maintenancenotification',
									descending: false
								}
							}"
							noDataText="{worklistView>/tableNoDataText}"
							busyIndicatorDelay="{worklistView>/tableBusyDelay}"
							growing="true"
							growingScrollToLoad="true"
							updateFinished="onUpdateFinished">
			
							<headerToolbar>
								<Toolbar>
									<Title id="tableHeader" text="{worklistView>/worklistTableTitle}"/>
									<ToolbarSpacer />
									<SearchField
										id="searchField"
										tooltip="{i18n>worklistSearchTooltip}"
										search="onSearch"
										width="auto">
									</SearchField>
								</Toolbar>
							</headerToolbar>
			
							<columns>
								<Column id="notifyItemTitle">
									<Text text="{/#PMNotificationItem/Maintenancenotification/@sap:label}"/>
								</Column>
								<Column id="notifyItemType">
									<Text text="{/#PMNotificationItem/Maintnotifobjprtcodegroup/@sap:label}"/>
								</Column>
							</columns>
			
							<items>
								<ColumnListItem
									type="Navigation"
									press="onPress">
									<cells>
										<ObjectIdentifier 
										title="{Maintenancenotification}"
										text="{Maintnotifitemtext}"/>
										
										<Text text="{Maintnotifobjprtcodegroup}"/>
									</cells>
								</ColumnListItem>
							</items>
						</Table>
					</IconTabFilter>
				</items>
			</IconTabBar>
			
 		</semantic:content>

		<semantic:editAction>
			<semantic:EditAction press="onChangeEditMode"/>
		</semantic:editAction>
		
	</semantic:FullscreenPage>

</mvc:View>