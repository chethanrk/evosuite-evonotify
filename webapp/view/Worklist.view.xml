<mvc:View xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
	xmlns:smartTable="sap.ui.comp.smarttable" xmlns:f="sap.f"
	xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
	controllerName="com.evorait.evonotify.controller.Worklist">
	<f:DynamicPage id="NotificationlistPage" headerExpanded="true" preserveHeaderStateOnScroll="true" showFooter="true"
		class="sapUiNoContentPadding">
		<f:title>
			<f:DynamicPageTitle>
				<f:heading>
					<Image src="{path: '', formatter: '.formatter.getLogoImageLink' }" densityAware="false" height="30px" alt="EvoNotify" id="imageLogo"/>
				</f:heading>
				<f:actions>
					<!--<Button icon="sap-icon://alert" text="{= ${message>/}.length }" type="Emphasized" press="onMessageManagerPress"/>-->
				</f:actions>
				<f:navigationActions>
					<Button id="idButtonAboutDialog" icon="sap-icon://sys-help" tooltip="{i18n>tit.infoDialogTitle}" press="onIconPress"/>
				</f:navigationActions>
			</f:DynamicPageTitle>
		</f:title>
		<f:header>
			<f:DynamicPageHeader pinnable="true">
				<f:content>
					<smartFilterBar:SmartFilterBar id="NotificationFilter" entitySet="PMNotificationSet" filterBarExpanded="true"
						persistencyKey="com.evorait.evonotify.NotificationFilterbar">
						<smartFilterBar:controlConfiguration>
							<smartFilterBar:ControlConfiguration id="__configuration0"/>
						</smartFilterBar:controlConfiguration>
					</smartFilterBar:SmartFilterBar>
				</f:content>
			</f:DynamicPageHeader>
		</f:header>
		<f:content>
			<smartTable:SmartTable id="NotificationTable" class="workorderSmartTable" entitySet="PMNotificationSet" smartFilterId="NotificationFilter"
				tableType="Table" useExportToExcel="true" beforeExport="onBeforeExport" useVariantManagement="true" useTablePersonalisation="true"
				header="{i18n>tit.worklistTable}" showRowCount="true" persistencyKey="com.evorait.evonotify.NotificationTable" enableAutoBinding="true"
				requestAtLeastFields="ObjectKey,NotifProcessingPhase,ENABLE_NOTIFICATION_CHANGE">
				<!-- layout data used to make the table growing but the filter bar fixed -->
				<smartTable:layoutData>
					<FlexItemData growFactor="1" baseSize="0%"/>
				</smartTable:layoutData>
				<smartTable:customToolbar>
					<OverflowToolbar design="Transparent">
						<ToolbarSpacer/>
						<Button icon="sap-icon://add" text="{i18n>btn.createNotification}" press="onPressCreateNotification" visible="{user>/ENABLE_NOTIFICATION_CREATE === 'X'}"/>
					</OverflowToolbar>
				</smartTable:customToolbar>
				<Table id="responsiveNotificationTable" sticky="ColumnHeaders,HeaderToolbar,InfoToolbar" growing="true">
					<columns>
						<Column width="3rem">
							<Text text="{NotifProcessingPhase/##com.sap.vocabularies.Common.v1.Label/String}"/>
							<customData>
								<core:CustomData key="p13nData" value='\{"columnKey": "IsCompleted","leadingProperty": "IsCompleted"}'/>
							</customData>
						</Column>
					</columns>
					<ColumnListItem type="Navigation" press="onPressTableRow">
						<cells>
							<core:Icon src="{path: 'NotifProcessingPhase',formatter: '.formatter.formatIsEditableIcon'}" alt="{path: 'NotifProcessingPhaseDesc'}"/>
						</cells>
					</ColumnListItem>
				</Table>
			</smartTable:SmartTable>
		</f:content>
	</f:DynamicPage>
</mvc:View>