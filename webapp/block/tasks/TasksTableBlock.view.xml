<mvc:View controllerName="com.evorait.evonotify.block.tasks.TasksTableBlockController" xmlns="sap.m" xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc" xmlns:smartTable="sap.ui.comp.smarttable">
	<smartTable:SmartTable  id="notificationTasksTable" height="100%" width="100%" tableType="ResponsiveTable" useExportToExcel="false" useVariantManagement="true"
		useTablePersonalisation="true" showRowCount="true" persistencyKey="com.evorait.evonotify.taskNotifTable" enableAutoBinding="true"
		demandPopin="true" entitySet="PMNotificationTaskSet" tableBindingPath="NavToTasks">
		<smartTable:customToolbar>
			<OverflowToolbar design="Transparent">
				<ToolbarSpacer/>
				<OverflowToolbarButton icon="sap-icon://add" text="Sort" press="onPressAdd"
					visible="{ parts: [{path: 'IsCompleted'},{path: 'IsDeleted'},{path: 'user>/IsTasksCreate'}], formatter:'.formatter.isVisible'}"/>
			</OverflowToolbar>
		</smartTable:customToolbar>
		<!-- layout data used to make the table growing but the filter bar fixed -->
		<smartTable:layoutData>
			<FlexItemData growFactor="1" baseSize="0%"/>
		</smartTable:layoutData>
		<Table growing="true">
			<columns>
				<Column width="100px" hAlign="End">
					<customData>
						<core:CustomData key="p13nData"
							value='\{"columnKey": "MaintNotifTaskSortNumber","columnIndex":"99", "leadingProperty": "MaintNotifTaskSortNumber"}'/>
					</customData>
				</Column>
			</columns>
			<items>
				<ColumnListItem type="DetailAndActive" press="onPressItem" detailPress="onPressItem">
					<cells>
						<MenuButton text="{i18n>tit.changeStatus}">
							<menu>
								<Menu id="idMenuTask" itemSelected="onSelectStatus" items="{path: 'StatusVH>/TaskStatus', templateShareable:'false'}">
									<MenuItem key="{StatusVH>Status}" text="{path: 'StatusVH>TranslateKey', formatter: '.translateStatusKey'}"
										visible="{parts: ['IsOutstanding', 'IsReleased', 'IsCompleted', 'IsSuccessfull', 'StatusVH>Status'], formatter:'.formatter.taskStatusVisibility'}"/>
								</Menu>
							</menu>
						</MenuButton>
					</cells>
				</ColumnListItem>
			</items>
		</Table>
	</smartTable:SmartTable>
</mvc:View>