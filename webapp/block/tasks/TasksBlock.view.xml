<mvc:View controllerName="com.evorait.evonotify.block.tasks.TasksBlockController" xmlns="sap.m" xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc" xmlns:smartTable="sap.ui.comp.smarttable">
	<smartTable:SmartTable id="notificationTasksTable" height="100%" width="100%" header="{i18n>tit.tasks}" tableType="ResponsiveTable"
		useExportToExcel="false" useVariantManagement="true" useTablePersonalisation="true" showRowCount="true"
		persistencyKey="com.evorait.evonotify.taskNotifTable" enableAutoBinding="true" entitySet="PMNotificationTaskSet"
		tableBindingPath="NotificationToTask" requestAtLeastFields="ObjectKey">
		<smartTable:customToolbar>
			<OverflowToolbar design="Transparent">
				<ToolbarSpacer/>
				<OverflowToolbarButton icon="sap-icon://add" text="Sort" press="onPressAdd"
					visible="{ parts: [{path: 'ENABLE_NOTIFICATION_CHANGE'},{path: 'user>/ENABLE_TASK_CREATE'},{path: 'viewModel>/editMode'}], formatter:'.formatter.isVisible'}"/>
				<OverflowToolbarButton icon="sap-icon://edit" text="Sort" press="onPressEdit"
					visible="{ parts: [{path: 'ENABLE_NOTIFICATION_CHANGE'},{path: 'user>/ENABLE_TASK_UPDATE'},{path: 'viewModel>/editMode'}], formatter:'.formatter.isVisible'}"/>
				<MenuButton id="idTaskStatusChangeMenu" text="{i18n>btn.changeSystemStatus}" enabled="false"
					visible="{parts: ['ENABLE_NOTIFICATION_CHANGE','user>/ENABLE_NOTIFICATION_UPDATE', 'viewModel>/editMode'], formatter:'.formatter.isVisible'}">
					<menu>
						<Menu itemSelected="onSelectStatus" items="{path: 'taskFunctionModel>/results'}">
							<items>
								<MenuItem key="{taskFunctionModel>Function}" text="{taskFunctionModel>Description}"/>
							</items>
						</Menu>
					</menu>
				</MenuButton>
			</OverflowToolbar>
		</smartTable:customToolbar>
		<!-- layout data used to make the table growing but the filter bar fixed -->
		<smartTable:layoutData>
			<FlexItemData growFactor="1" baseSize="0%"/>
		</smartTable:layoutData>
		<Table growing="true" mode="SingleSelectMaster" selectionChange="onPressItem"></Table>
	</smartTable:SmartTable>
</mvc:View>